<!DOCTYPE HTML>

<html>
	<head>
		<title>Legend - Snapchat</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
				<!-- Note: The "styleN" class below should match that of the banner element. -->
					<header id="header" class="alt style2">
						<a href="index.html" class="logo"><strong>Legend</strong> <span>by UTD</span></a>
						<nav>
							<a href="#menu">Menu</a>
						</nav>
					</header>

				<!-- Menu -->
					<nav id="menu">
						<ul class="links">
							<li><a href="index.html">Home</a></li>
							<li><a href="Instagram.html">Instagram</a></li>
							<li><a href="Snapchat.html">Snapchat</a></li>
							<li><a href="Facebook.html">Facebook</a></li>
						</ul>
						<ul class="actions vertical">
							<li><a href="#" class="button special fit">Get Started</a></li>
							<li><a href="#" class="button fit">Log In</a></li>
						</ul>
					</nav>

				<!-- Banner -->
				<!-- Note: The "styleN" class below should match that of the header element. -->
					<section id="banner" class="style2">
						<div class="inner">
							<span class="image">
								<img src="images/pic07.jpg" alt="" />
							</span>
							<header class="major">
								<h1>Snapchat</h1>
							</header>
							<div class="content">
								<p>Drag and drop your picture or provide us<br>
								the URL and we'll generate filters for you to chose from.</p>
							</div>
						</div>
					</section>

				<!-- Main -->
					<div id="main">

						<!-- One -->
							<section id="one">
								<div class="inner">
									<header class="major">
										<h2>Insert your picture URL below:</h2>
									</header>
									<p>Using computer vision and machine learning, we will determine the mood of your picture to generate a viable filter.</p>
								</div>
							</section>

                <input type="text" name="demo-name" id="SnapchatURL" value="" placeholder="   Image URL"/>
                <br>
								<input type="text" name="demo-name2" id="SnapchatUsername" value="" placeholder="Snapchat Username"/>
								<br>
                <a href="#" class="button special" onclick = "func()" style="position: relative;left: 50%;margin-left: -100px;">Submit</a>

                <script>

                function func() {
                    random();
                    captions();
                }
                
                function random() {
                    var randomNumberBetween0and5 = Math.floor(Math.random() * 6);

                        if (randomNumberBetween0and5 == 0)	{
                            document.getElementById("filter1").src="images/a.png";
                            document.getElementById("filter2").src="images/b.png";

                        }

                        else if (randomNumberBetween0and5 == 1)	{
                            document.getElementById("filter1").src="images/c.png";
                            document.getElementById("filter2").src="images/d.png";

                        }

                        else if (randomNumberBetween0and5 == 2)	{
                            document.getElementById("filter1").src="images/e.png";
                            document.getElementById("filter2").src="images/f.png";
                        }

                        else if (randomNumberBetween0and5 == 3)	{
                            document.getElementById("filter1").src="images/g.png";
                            document.getElementById("filter2").src="images/c.png";
                        }

                        else if (randomNumberBetween0and5 == 4)	{
                            document.getElementById("filter1").src="images/d.png";
                            document.getElementById("filter2").src="images/b.png";
                        }

                        else if (randomNumberBetween0and5 == 5)	{
                            document.getElementById("filter1").src="images/a.png";
                            document.getElementById("filter2").src="images/e.png";
                        }
                        

                }

                function captions() {

                    var URL = document.getElementById("SnapchatURL").value;

                    var courseData = new FormData();
                    courseData.append("link", URL);

                    fetch("/home", {
                        method: "POST",
                        body: courseData
                    }).then(function (response) {
                        return response.text();
                    }).then(function (body) {
                        body = body.substring(1, body.length);
                        arr = body.split('|');

                        document.getElementById('emojis').innerHTML = '';
                        console.log(arr);
                        var commaIndex = arr.length;
                        for (var i = 0; i < arr.length; i++) {
                            if (arr[i] === "") {
                                commaIndex = i;
                            } else if (i < commaIndex) {
                                var emo = document.getElementById('emojis').innerHTML;
                                document.getElementById('emojis').innerHTML = emo + arr[i];
                                console.log(emo + ' ' + arr[i]);
                            }
                        }
                    });



                    }


                </script>

								<br>
                <br>

<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>
<div class="row 200%">
</div>


                  <section id="one">
    								<div class="inner" class="style2">

    									<header class="major">
    										<h2>Upload your picture below:</h2>
    									</header>
    									<p>Using computer vision and machine learning, we will determine the mood of your picture to generate captions and hashtags.</p>
    								</div>
    							</section>

                  <form action="/file-upload" class="dropzone" id="filebrow">
                    <br>
                    <br>
                    <div class="fallback" style="position: relative;left: 50%;margin-left: -100px;">
                      <input name="file" type="file" id="filebrow" multiple />
                    </div>
                  </form>

                  <a class="button special" onclick = random() style="position: relative;left: 50%;margin-left: -100px;">Submit</a>

                    <br>
                    <br>

                    <script>

                    function myFunction() {
                      $('#filebrow').change(function() {
                         var reader = new FileReader();
                         reader.onload = function(e) {
                         //this next line separates url from data
                         var iurl = e.target.result.substr(e.target.result.indexOf(",") + 1, e.target.result.length);
                         var clientId = "05bb7e9abe2a96c";
                         console.log("hello");

                         $.ajax({
                          url: "https://api.imgur.com/3/upload",
                          type: "POST",
                          datatype: "json",
                          data: {
                          'image': iurl,
                          'type': 'base64'
                          },
                          success: fdone,//calling function which displays url
                          error: function(){alert("failed")},
                          beforeSend: function (xhr) {
                              xhr.setRequestHeader("Authorization", "Client-ID " + clientId);
                          }
                      });

                      console.log("hello");
                      };
                       reader.readAsDataURL(this.files[0]);


                      });
                  }

                </script>

                  </section>




						<!-- Two -->
							<section id="two" class="spotlights">
								<section>
									<a href="#" class="image">
										<img src="images/pic08.jpg" alt="" data-position="center center" />
									</a>
									<div class="content">
										<div class="inner">
											<header class="major">
												<h3>Suggested Emojis</h3>
											</header>
											<p id="emojis"></p>
											<ul class="actions">
												<li><a href="generic.html" class="button">Learn more</a></li>
											</ul>
										</div>
									</div>
								</section>
								<section>
									<a href="#" class="image">
										<img src="images/pic09.jpg" alt="" data-position="top center" id="filter1"/>
									</a>
									<div class="content">
										<div class="inner">
											<header class="major">
												<h3>Suggested Filter 1</h3>
											</header>
											<p>Based on your inserted picture, this is the best filter to add onto your story/post. If this match what your intentions were, don't hesitate to try again. We're still feeding data into our neural net. Results will only get better over time and usage.</p>
											<ul class="actions">
												<li><a href="generic.html" class="button">Learn more</a></li>
											</ul>
										</div>
									</div>
								</section>
								<section>
									<a href="#" class="image">
										<img src="images/pic10.jpg" alt="" data-position="25% 25%" id="filter2"/>
									</a>
									<div class="content">
										<div class="inner">
											<header class="major">
												<h3>Suggested Filter 2</h3>
											</header>
											<p>This is the next best filter to add onto your story/post.</p>
											<ul class="actions">
												<li><a href="generic.html" class="button">Learn more</a></li>
											</ul>
										</div>
									</div>
								</section>
							</section>

						<!-- Three -->
							<section id="three">
								<div class="inner">
									<header class="major">
										<h2>Important Note:</h2>
									</header>
									<p>This is an experimental demo of what we suggest based on your image. In no way are we discriminating or excluding one from other Snapchat filters. We just generate possible ones you to pick from to make your life a tad bit easier.</p>
									<ul class="actions">
										<li><a href="#" class="button next">More Information</a></li>
									</ul>
								</div>
							</section>

					</div>

					<!-- Contact -->
						<section id="contact">
							<div class="inner">
								<section>
									<form method="post" action="#">
										<div class="field half first">
											<label for="name">Name</label>
											<input type="text" name="name" id="name" />
										</div>
										<div class="field half">
											<label for="email">Email</label>
											<input type="text" name="email" id="email" />
										</div>
										<div class="field">
											<label for="message">Message</label>
											<textarea name="message" id="message" rows="6"></textarea>
										</div>
										<ul class="actions">
											<li><input type="submit" value="Send Message" class="special" /></li>
											<li><input type="reset" value="Clear" /></li>
										</ul>
									</form>
								</section>
								<section class="split">
									<section>
										<div class="contact-method">
											<span class="icon alt fa-envelope"></span>
											<h3>Email</h3>
											<a href="#">sxn162130@utdallas.edu</a>
										</div>
									</section>
									<section>
										<div class="contact-method">
											<span class="icon alt fa-phone"></span>
											<h3>Phone</h3>
											<span>(214) 609-9053</span>
										</div>
									</section>
									<section>
										<div class="contact-method">
											<span class="icon alt fa-home"></span>
											<h3>Address</h3>
											<span>800 W Campbell Road<br />
											Richardson, TX 75080<br />
											United States of America</span>
										</div>
									</section>
								</section>
							</div>
						</section>

				<!-- Footer -->
					<footer id="footer">
						<div class="inner">
							<ul class="icons">
								<li><a href="#" class="icon alt fa-twitter"><span class="label">Twitter</span></a></li>
								<li><a href="#" class="icon alt fa-facebook"><span class="label">Facebook</span></a></li>
								<li><a href="#" class="icon alt fa-instagram"><span class="label">Instagram</span></a></li>
								<li><a href="#" class="icon alt fa-github"><span class="label">GitHub</span></a></li>
								<li><a href="#" class="icon alt fa-linkedin"><span class="label">LinkedIn</span></a></li>
							</ul>
							<ul class="copyright">
								<li>&copy; Untitled</li><li>Design: <a href="https://utdallas.edu">Team Luna</a></li>
							</ul>
						</div>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>
